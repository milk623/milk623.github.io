<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미궁 부족 환각 계산기</title>
    <style>
        @font-face {
            font-family: '박다현체';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2104@1.0/박다현체.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        body {
            font-family: '박다현체', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9fafb;
        }

        .container {
            max-width: 600px;
            margin: 50px auto;
            background: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
            color: #333;
        }

        input {
            width: 95%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            background-color: #f9f9f9;
        }
        
        button {
            display: block;
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        .result {
            margin-top: 20px;
            padding: 20px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            color: #333;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .table-responsive {
            width: 100%;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        .input-group {
            display: flex;
            align-items: center;
        }
        .input-group input {
            flex: 1;
            margin-top: 0;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }
        .input-group button {
            width: auto;
            margin-top: 0;
            border-radius: 0 10px 10px 0;
            padding: 10px;
            font-size: 16px;
            line-height: 1.5;
        }
        .counter-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>미궁부족 환각계산기</h1>

        <div id="myPet">
            <label for="name">펫 이름</label>
            <div class="input-group">
                <input type="text" id="name" placeholder="예: 얀기로">
                <button type="button" id="search">🔍</button>
            </div>
            <label for="hp">내구력</label>
            <input type="number" id="hp" placeholder="57">
            <label for="atk">공격력</label>
            <input type="number" id="atk" placeholder="12">
            <label for="def">방어력</label>
            <input type="number" id="def" placeholder="7">
            <label for="agi">순발력</label>
            <input type="number" id="agi" placeholder="6">
            
            <button type="button" id="calculate">계산하기</button>
            
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>구분</th>
                            <th>내구력</th>
                            <th>공격력</th>
                            <th>방어력</th>
                            <th>순발력</th>
                            <th>성장률 합</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- S랭크 정보가 여기에 동적으로 추가됩니다. -->
                    </tbody>
                </table>
            </div>
        </div>

        <div id="calculationResult" class="result" style="display: none;">
            <!-- 계산 결과가 여기에 표시됩니다. -->
        </div>


    </div>
    <div class="counter-container">
        <img src="https://hitscounter.dev/api/hit?url=https%3A%2F%2Fmilk623.github.io%2F&label=%EB%AF%B8%EA%B6%81&icon=github&color=%23198754&message=&style=flat&tz=UTC" />
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        var pet = [
  {
    "name": "두리",
    "initnum": 20,
    "hp": 22,
    "atk": 23,
    "def": 11,
    "agi": 23
  },
  {
    "name": "얼룩우리",
    "initnum": 15,
    "hp": 22,
    "atk": 17,
    "def": 19,
    "agi": 17
  },
  {
    "name": "불그리",
    "initnum": 10,
    "hp": 25,
    "atk": 23,
    "def": 19,
    "agi": 33
  },
  {
    "name": "실버우리",
    "initnum": 20,
    "hp": 22,
    "atk": 22,
    "def": 24,
    "agi": 27
  },
  {
    "name": "환생얼룩우리",
    "initnum": 25,
    "hp": 30,
    "atk": 24,
    "def": 27,
    "agi": 24
  },
  {
    "name": "부비",
    "initnum": 15,
    "hp": 42,
    "atk": 20,
    "def": 16,
    "agi": 12
  },
  {
    "name": "골드부비",
    "initnum": 25,
    "hp": 31,
    "atk": 20,
    "def": 32,
    "agi": 12
  },
  {
    "name": "부이",
    "initnum": 22,
    "hp": 44,
    "atk": 21,
    "def": 16,
    "agi": 13
  },
  {
    "name": "부이비",
    "initnum": 16,
    "hp": 32,
    "atk": 26,
    "def": 15,
    "agi": 18
  },
  {
    "name": "얼룩부이비",
    "initnum": 23,
    "hp": 30,
    "atk": 28,
    "def": 14,
    "agi": 20
  },
  {
    "name": "꼬미",
    "initnum": 22,
    "hp": 22,
    "atk": 28,
    "def": 15,
    "agi": 27
  },
  {
    "name": "꼬미",
    "initnum": 22,
    "hp": 22,
    "atk": 28,
    "def": 15,
    "agi": 27
  },
  {
    "name": "꼬비오",
    "initnum": 22,
    "hp": 21,
    "atk": 27,
    "def": 15,
    "agi": 29
  },
  {
    "name": "꼬꼬비",
    "initnum": 22,
    "hp": 21,
    "atk": 28,
    "def": 15,
    "agi": 28
  },
  {
    "name": "푸푸",
    "initnum": 13,
    "hp": 18,
    "atk": 20,
    "def": 8,
    "agi": 33
  },
  {
    "name": "우푸",
    "initnum": 15,
    "hp": 18,
    "atk": 22,
    "def": 7,
    "agi": 32
  },
  {
    "name": "투투",
    "initnum": 17,
    "hp": 23,
    "atk": 22,
    "def": 8,
    "agi": 26
  },
  {
    "name": "오투투",
    "initnum": 20,
    "hp": 20,
    "atk": 19,
    "def": 15,
    "agi": 30
  },
  {
    "name": "베론",
    "initnum": 23,
    "hp": 42,
    "atk": 18,
    "def": 37,
    "agi": 18
  },
  {
    "name": "베로로크",
    "initnum": 19,
    "hp": 39,
    "atk": 19,
    "def": 37,
    "agi": 17
  },
  {
    "name": "베로보크",
    "initnum": 23,
    "hp": 38,
    "atk": 18,
    "def": 36,
    "agi": 14
  },
  {
    "name": "베로포리",
    "initnum": 22,
    "hp": 34,
    "atk": 25,
    "def": 35,
    "agi": 15
  },
  {
    "name": "노북이",
    "initnum": 14,
    "hp": 22,
    "atk": 18,
    "def": 34,
    "agi": 6
  },
  {
    "name": "북이",
    "initnum": 14,
    "hp": 22,
    "atk": 19,
    "def": 35,
    "agi": 5
  },
  {
    "name": "깡북이",
    "initnum": 12,
    "hp": 21,
    "atk": 24,
    "def": 33,
    "agi": 5
  },
  {
    "name": "돌북이",
    "initnum": 20,
    "hp": 23,
    "atk": 19,
    "def": 41,
    "agi": 4
  },
  {
    "name": "아고아",
    "initnum": 20,
    "hp": 25,
    "atk": 39,
    "def": 24,
    "agi": 19
  },
  {
    "name": "네고스",
    "initnum": 20,
    "hp": 26,
    "atk": 37,
    "def": 26,
    "agi": 18
  },
  {
    "name": "타로곤",
    "initnum": 20,
    "hp": 25,
    "atk": 37,
    "def": 26,
    "agi": 18
  },
  {
    "name": "다고스",
    "initnum": 20,
    "hp": 27,
    "atk": 38,
    "def": 23,
    "agi": 18
  },
  {
    "name": "보크곤",
    "initnum": 20,
    "hp": 23,
    "atk": 38,
    "def": 22,
    "agi": 24
  },
  {
    "name": "라고고",
    "initnum": 23,
    "hp": 22,
    "atk": 28,
    "def": 17,
    "agi": 26
  },
  {
    "name": "후바바",
    "initnum": 24,
    "hp": 22,
    "atk": 25,
    "def": 18,
    "agi": 28
  },
  {
    "name": "토루루",
    "initnum": 19,
    "hp": 24,
    "atk": 24,
    "def": 23,
    "agi": 27
  },
  {
    "name": "루니",
    "initnum": 22,
    "hp": 24,
    "atk": 23,
    "def": 25,
    "agi": 22
  },
  {
    "name": "카타르카스",
    "initnum": 22,
    "hp": 25,
    "atk": 24,
    "def": 40,
    "agi": 5
  },
  {
    "name": "쿠카스",
    "initnum": 22,
    "hp": 27,
    "atk": 21,
    "def": 39,
    "agi": 6
  },
  {
    "name": "코로카스",
    "initnum": 17,
    "hp": 29,
    "atk": 26,
    "def": 37,
    "agi": 5
  },
  {
    "name": "로기안",
    "initnum": 23,
    "hp": 25,
    "atk": 22,
    "def": 39,
    "agi": 7
  },
  {
    "name": "램가스",
    "initnum": 20,
    "hp": 32,
    "atk": 25,
    "def": 52,
    "agi": 5
  },
  {
    "name": "아이카스",
    "initnum": 22,
    "hp": 31,
    "atk": 23,
    "def": 40,
    "agi": 5
  },
  {
    "name": "쿠타스",
    "initnum": 22,
    "hp": 31,
    "atk": 25,
    "def": 33,
    "agi": 5
  },
  {
    "name": "카르기안",
    "initnum": 20,
    "hp": 25,
    "atk": 22,
    "def": 36,
    "agi": 10
  },
  {
    "name": "리비노",
    "initnum": 25,
    "hp": 27,
    "atk": 37,
    "def": 19,
    "agi": 17
  },
  {
    "name": "얀기로",
    "initnum": 24,
    "hp": 34,
    "atk": 40,
    "def": 18,
    "agi": 24
  },
  {
    "name": "반보로",
    "initnum": 27,
    "hp": 25,
    "atk": 37,
    "def": 16,
    "agi": 21
  },
  {
    "name": "반기노",
    "initnum": 26,
    "hp": 24,
    "atk": 38,
    "def": 16,
    "agi": 20
  },
  {
    "name": "부르돈",
    "initnum": 25,
    "hp": 25,
    "atk": 35,
    "def": 14,
    "agi": 24
  },
  {
    "name": "쿠링",
    "initnum": 19,
    "hp": 23,
    "atk": 20,
    "def": 22,
    "agi": 24
  },
  {
    "name": "쿠쿠르",
    "initnum": 20,
    "hp": 24,
    "atk": 20,
    "def": 19,
    "agi": 26
  },
  {
    "name": "포링",
    "initnum": 18,
    "hp": 22,
    "atk": 20,
    "def": 18,
    "agi": 24
  },
  {
    "name": "리스키",
    "initnum": 17,
    "hp": 26,
    "atk": 18,
    "def": 21,
    "agi": 24
  },
  {
    "name": "오르곤",
    "initnum": 22,
    "hp": 35,
    "atk": 39,
    "def": 16,
    "agi": 28
  },
  {
    "name": "모가로스",
    "initnum": 25,
    "hp": 27,
    "atk": 41,
    "def": 18,
    "agi": 28
  },
  {
    "name": "카비트",
    "initnum": 18,
    "hp": 14,
    "atk": 19,
    "def": 19,
    "agi": 27
  },
  {
    "name": "케이비",
    "initnum": 20,
    "hp": 14,
    "atk": 19,
    "def": 19,
    "agi": 27
  },
  {
    "name": "큐이",
    "initnum": 15,
    "hp": 13,
    "atk": 20,
    "def": 17,
    "agi": 25
  },
  {
    "name": "골드카비트",
    "initnum": 19,
    "hp": 16,
    "atk": 20,
    "def": 16,
    "agi": 28
  },
  {
    "name": "고르돈",
    "initnum": 24,
    "hp": 27,
    "atk": 31,
    "def": 24,
    "agi": 18
  },
  {
    "name": "기라돈",
    "initnum": 24,
    "hp": 28,
    "atk": 31,
    "def": 22,
    "agi": 19
  },
  {
    "name": "투르돈",
    "initnum": 27,
    "hp": 28,
    "atk": 30,
    "def": 21,
    "agi": 20
  },
  {
    "name": "고르고",
    "initnum": 24,
    "hp": 22,
    "atk": 29,
    "def": 16,
    "agi": 16
  },
  {
    "name": "휴보",
    "initnum": 18,
    "hp": 26,
    "atk": 28,
    "def": 25,
    "agi": 16
  },
  {
    "name": "포보",
    "initnum": 19,
    "hp": 28,
    "atk": 23,
    "def": 26,
    "agi": 14
  },
  {
    "name": "쿠보",
    "initnum": 25,
    "hp": 26,
    "atk": 26,
    "def": 26,
    "agi": 17
  },
  {
    "name": "토로쟈",
    "initnum": 21,
    "hp": 25,
    "atk": 26,
    "def": 25,
    "agi": 16
  },
  {
    "name": "부르보",
    "initnum": 20,
    "hp": 23,
    "atk": 25,
    "def": 24,
    "agi": 20
  },
  {
    "name": "카쿠",
    "initnum": 18,
    "hp": 28,
    "atk": 29,
    "def": 25,
    "agi": 32
  },
  {
    "name": "바카",
    "initnum": 20,
    "hp": 19,
    "atk": 27,
    "def": 20,
    "agi": 28
  },
  {
    "name": "바우",
    "initnum": 17,
    "hp": 18,
    "atk": 23,
    "def": 20,
    "agi": 28
  },
  {
    "name": "카우",
    "initnum": 17,
    "hp": 16,
    "atk": 23,
    "def": 23,
    "agi": 26
  },
  {
    "name": "베르가",
    "initnum": 24,
    "hp": 24,
    "atk": 29,
    "def": 14,
    "agi": 26
  },
  {
    "name": "베루루",
    "initnum": 23,
    "hp": 21,
    "atk": 30,
    "def": 13,
    "agi": 28
  },
  {
    "name": "고르고르",
    "initnum": 21,
    "hp": 20,
    "atk": 31,
    "def": 13,
    "agi": 27
  },
  {
    "name": "노르노르",
    "initnum": 25,
    "hp": 22,
    "atk": 30,
    "def": 17,
    "agi": 29
  },
  {
    "name": "토리노프스",
    "initnum": 12,
    "hp": 26,
    "atk": 21,
    "def": 26,
    "agi": 12
  },
  {
    "name": "펜타스",
    "initnum": 16,
    "hp": 28,
    "atk": 17,
    "def": 28,
    "agi": 11
  },
  {
    "name": "토리케라",
    "initnum": 18,
    "hp": 27,
    "atk": 18,
    "def": 28,
    "agi": 10
  },
  {
    "name": "토르프스",
    "initnum": 14,
    "hp": 26,
    "atk": 19,
    "def": 29,
    "agi": 9
  },
  {
    "name": "고반케스",
    "initnum": 20,
    "hp": 27,
    "atk": 33,
    "def": 15,
    "agi": 16
  },
  {
    "name": "쟈그라",
    "initnum": 20,
    "hp": 26,
    "atk": 34,
    "def": 14,
    "agi": 17
  },
  {
    "name": "쟈그",
    "initnum": 20,
    "hp": 30,
    "atk": 33,
    "def": 13,
    "agi": 17
  },
  {
    "name": "판지",
    "initnum": 20,
    "hp": 29,
    "atk": 33,
    "def": 14,
    "agi": 17
  },
  {
    "name": "기가로스",
    "initnum": 28,
    "hp": 30,
    "atk": 34,
    "def": 32,
    "agi": 20
  },
  {
    "name": "메가로스",
    "initnum": 24,
    "hp": 33,
    "atk": 36,
    "def": 33,
    "agi": 13
  },
  {
    "name": "비트로스",
    "initnum": 25,
    "hp": 28,
    "atk": 33,
    "def": 28,
    "agi": 14
  },
  {
    "name": "가가로스",
    "initnum": 26,
    "hp": 32,
    "atk": 40,
    "def": 27,
    "agi": 15
  },
  {
    "name": "루이",
    "initnum": 22,
    "hp": 40,
    "atk": 32,
    "def": 33,
    "agi": 10
  },
  {
    "name": "무이",
    "initnum": 20,
    "hp": 44,
    "atk": 30,
    "def": 33,
    "agi": 10
  },
  {
    "name": "씨보스",
    "initnum": 21,
    "hp": 41,
    "atk": 30,
    "def": 35,
    "agi": 10
  },
  {
    "name": "투이",
    "initnum": 24,
    "hp": 39,
    "atk": 34,
    "def": 33,
    "agi": 9
  },
  {
    "name": "다이노",
    "initnum": 25,
    "hp": 37,
    "atk": 31,
    "def": 34,
    "agi": 6
  },
  {
    "name": "다이노스",
    "initnum": 26,
    "hp": 46,
    "atk": 30,
    "def": 35,
    "agi": 7
  },
  {
    "name": "프라키토스",
    "initnum": 24,
    "hp": 35,
    "atk": 35,
    "def": 28,
    "agi": 6
  },
  {
    "name": "스텐토스",
    "initnum": 28,
    "hp": 45,
    "atk": 32,
    "def": 34,
    "agi": 5
  },
  {
    "name": "프리토스",
    "initnum": 28,
    "hp": 41,
    "atk": 34,
    "def": 33,
    "agi": 11
  },
  {
    "name": "만모",
    "initnum": 25,
    "hp": 47,
    "atk": 26,
    "def": 39,
    "agi": 6
  },
  {
    "name": "만모르",
    "initnum": 24,
    "hp": 45,
    "atk": 32,
    "def": 35,
    "agi": 6
  },
  {
    "name": "마모나스",
    "initnum": 25,
    "hp": 49,
    "atk": 26,
    "def": 37,
    "agi": 6
  },
  {
    "name": "만모로스",
    "initnum": 25,
    "hp": 50,
    "atk": 28,
    "def": 34,
    "agi": 6
  },
  {
    "name": "테라곤",
    "initnum": 26,
    "hp": 24,
    "atk": 31,
    "def": 15,
    "agi": 32
  },
  {
    "name": "카르곤",
    "initnum": 26,
    "hp": 23,
    "atk": 31,
    "def": 13,
    "agi": 30
  },
  {
    "name": "포이비스",
    "initnum": 24,
    "hp": 27,
    "atk": 34,
    "def": 21,
    "agi": 32
  },
  {
    "name": "타키",
    "initnum": 20,
    "hp": 19,
    "atk": 22,
    "def": 10,
    "agi": 35
  },
  {
    "name": "쿠쿠",
    "initnum": 20,
    "hp": 18,
    "atk": 22,
    "def": 10,
    "agi": 36
  },
  {
    "name": "호르쿠",
    "initnum": 20,
    "hp": 20,
    "atk": 21,
    "def": 12,
    "agi": 34
  },
  {
    "name": "카키",
    "initnum": 20,
    "hp": 17,
    "atk": 23,
    "def": 11,
    "agi": 33
  },
  {
    "name": "오가로스",
    "initnum": 24,
    "hp": 29,
    "atk": 37,
    "def": 28,
    "agi": 20
  },
  {
    "name": "프이토",
    "initnum": 26,
    "hp": 19,
    "atk": 22,
    "def": 25,
    "agi": 29
  },
  {
    "name": "모나시프",
    "initnum": 25,
    "hp": 23,
    "atk": 23,
    "def": 24,
    "agi": 28
  },
  {
    "name": "라나프",
    "initnum": 28,
    "hp": 18,
    "atk": 26,
    "def": 24,
    "agi": 29
  },
  {
    "name": "스토라지",
    "initnum": 21,
    "hp": 35,
    "atk": 26,
    "def": 23,
    "agi": 20
  },
  {
    "name": "아토라지",
    "initnum": 20,
    "hp": 39,
    "atk": 29,
    "def": 24,
    "agi": 23
  },
  {
    "name": "다이노로스",
    "initnum": 24,
    "hp": 36,
    "atk": 32,
    "def": 23,
    "agi": 25
  },
  {
    "name": "타르노로스",
    "initnum": 23,
    "hp": 40,
    "atk": 31,
    "def": 24,
    "agi": 24
  },
  {
    "name": "바로로크스",
    "initnum": 22,
    "hp": 24,
    "atk": 19,
    "def": 24,
    "agi": 18
  },
  {
    "name": "란베르스",
    "initnum": 21,
    "hp": 26,
    "atk": 21,
    "def": 21,
    "agi": 22
  },
  {
    "name": "코리토르스",
    "initnum": 19,
    "hp": 24,
    "atk": 20,
    "def": 22,
    "agi": 20
  },
  {
    "name": "복우리",
    "initnum": 20,
    "hp": 23,
    "atk": 33,
    "def": 14,
    "agi": 18
  },
  {
    "name": "푸우리",
    "initnum": 20,
    "hp": 28,
    "atk": 31,
    "def": 13,
    "agi": 29
  },
  {
    "name": "푸비",
    "initnum": 24,
    "hp": 31,
    "atk": 36,
    "def": 24,
    "agi": 18
  },
  {
    "name": "깡우비",
    "initnum": 24,
    "hp": 29,
    "atk": 42,
    "def": 18,
    "agi": 24
  },
  {
    "name": "꼬꼬미",
    "initnum": 22,
    "hp": 25,
    "atk": 29,
    "def": 18,
    "agi": 27
  },
  {
    "name": "꼬이미",
    "initnum": 22,
    "hp": 24,
    "atk": 32,
    "def": 16,
    "agi": 29
  },
  {
    "name": "돌꼬비",
    "initnum": 22,
    "hp": 25,
    "atk": 31,
    "def": 17,
    "agi": 25
  },
  {
    "name": "푸미",
    "initnum": 25,
    "hp": 32,
    "atk": 37,
    "def": 18,
    "agi": 29
  },
  {
    "name": "포포",
    "initnum": 15,
    "hp": 21,
    "atk": 25,
    "def": 8,
    "agi": 34
  },
  {
    "name": "노투투",
    "initnum": 15,
    "hp": 20,
    "atk": 22,
    "def": 7,
    "agi": 35
  },
  {
    "name": "베노투리",
    "initnum": 22,
    "hp": 33,
    "atk": 25,
    "def": 38,
    "agi": 19
  },
  {
    "name": "철북이",
    "initnum": 20,
    "hp": 21,
    "atk": 27,
    "def": 32,
    "agi": 7
  },
  {
    "name": "자라북",
    "initnum": 20,
    "hp": 27,
    "atk": 25,
    "def": 40,
    "agi": 2
  },
  {
    "name": "골드곤",
    "initnum": 20,
    "hp": 24,
    "atk": 31,
    "def": 20,
    "agi": 18
  },
  {
    "name": "기고아",
    "initnum": 20,
    "hp": 25,
    "atk": 34,
    "def": 23,
    "agi": 16
  },
  {
    "name": "타로아",
    "initnum": 20,
    "hp": 25,
    "atk": 36,
    "def": 21,
    "agi": 17
  },
  {
    "name": "푸고고",
    "initnum": 19,
    "hp": 31,
    "atk": 36,
    "def": 17,
    "agi": 31
  },
  {
    "name": "라루루",
    "initnum": 19,
    "hp": 27,
    "atk": 35,
    "def": 17,
    "agi": 34
  },
  {
    "name": "기바바",
    "initnum": 19,
    "hp": 30,
    "atk": 33,
    "def": 26,
    "agi": 27
  },
  {
    "name": "주니",
    "initnum": 19,
    "hp": 27,
    "atk": 33,
    "def": 18,
    "agi": 35
  },
  {
    "name": "프로돈",
    "initnum": 25,
    "hp": 36,
    "atk": 39,
    "def": 17,
    "agi": 25
  },
  {
    "name": "노스키",
    "initnum": 17,
    "hp": 24,
    "atk": 25,
    "def": 18,
    "agi": 35
  },
  {
    "name": "라스키",
    "initnum": 17,
    "hp": 26,
    "atk": 29,
    "def": 18,
    "agi": 29
  },
  {
    "name": "토끼",
    "initnum": 17,
    "hp": 31,
    "atk": 30,
    "def": 22,
    "agi": 32
  },
  {
    "name": "범링",
    "initnum": 17,
    "hp": 27,
    "atk": 30,
    "def": 19,
    "agi": 32
  },
  {
    "name": "블루카비트",
    "initnum": 20,
    "hp": 26,
    "atk": 25,
    "def": 13,
    "agi": 28
  },
  {
    "name": "연두큐이",
    "initnum": 20,
    "hp": 24,
    "atk": 26,
    "def": 15,
    "agi": 26
  },
  {
    "name": "실버고르돈",
    "initnum": 24,
    "hp": 33,
    "atk": 44,
    "def": 18,
    "agi": 22
  },
  {
    "name": "철기돈",
    "initnum": 24,
    "hp": 30,
    "atk": 33,
    "def": 21,
    "agi": 20
  },
  {
    "name": "푸보",
    "initnum": 18,
    "hp": 30,
    "atk": 29,
    "def": 22,
    "agi": 16
  },
  {
    "name": "타루쟈",
    "initnum": 18,
    "hp": 26,
    "atk": 35,
    "def": 20,
    "agi": 17
  },
  {
    "name": "노보",
    "initnum": 18,
    "hp": 26,
    "atk": 29,
    "def": 23,
    "agi": 20
  },
  {
    "name": "바쿠우",
    "initnum": 18,
    "hp": 30,
    "atk": 35,
    "def": 20,
    "agi": 30
  },
  {
    "name": "바쿠",
    "initnum": 18,
    "hp": 24,
    "atk": 33,
    "def": 21,
    "agi": 28
  },
  {
    "name": "도르도르",
    "initnum": 24,
    "hp": 27,
    "atk": 33,
    "def": 14,
    "agi": 30
  },
  {
    "name": "고루루",
    "initnum": 24,
    "hp": 26,
    "atk": 33,
    "def": 14,
    "agi": 30
  },
  {
    "name": "페루루",
    "initnum": 24,
    "hp": 26,
    "atk": 35,
    "def": 15,
    "agi": 32
  },
  {
    "name": "노타스",
    "initnum": 14,
    "hp": 34,
    "atk": 26,
    "def": 37,
    "agi": 20
  },
  {
    "name": "코발스",
    "initnum": 14,
    "hp": 45,
    "atk": 27,
    "def": 34,
    "agi": 11
  },
  {
    "name": "타르프스",
    "initnum": 14,
    "hp": 34,
    "atk": 26,
    "def": 42,
    "agi": 11
  },
  {
    "name": "석화케스",
    "initnum": 24,
    "hp": 27,
    "atk": 34,
    "def": 15,
    "agi": 17
  },
  {
    "name": "판그라",
    "initnum": 24,
    "hp": 26,
    "atk": 34,
    "def": 14,
    "agi": 18
  },
  {
    "name": "판그",
    "initnum": 24,
    "hp": 26,
    "atk": 33,
    "def": 16,
    "agi": 17
  },
  {
    "name": "쟈하드",
    "initnum": 24,
    "hp": 25,
    "atk": 36,
    "def": 15,
    "agi": 22
  },
  {
    "name": "라가로스",
    "initnum": 21,
    "hp": 37,
    "atk": 39,
    "def": 32,
    "agi": 8
  },
  {
    "name": "기트로스",
    "initnum": 25,
    "hp": 27,
    "atk": 33,
    "def": 20,
    "agi": 10
  },
  {
    "name": "노트로스",
    "initnum": 24,
    "hp": 40,
    "atk": 34,
    "def": 32,
    "agi": 10
  },
  {
    "name": "누이",
    "initnum": 20,
    "hp": 36,
    "atk": 32,
    "def": 38,
    "agi": 10
  },
  {
    "name": "브라키오스",
    "initnum": 28,
    "hp": 40,
    "atk": 32,
    "def": 40,
    "agi": 7
  },
  {
    "name": "노라키토스",
    "initnum": 28,
    "hp": 41,
    "atk": 34,
    "def": 36,
    "agi": 10
  },
  {
    "name": "메모스",
    "initnum": 25,
    "hp": 49,
    "atk": 27,
    "def": 39,
    "agi": 5
  },
  {
    "name": "푸테라",
    "initnum": 26,
    "hp": 32,
    "atk": 34,
    "def": 17,
    "agi": 32
  },
  {
    "name": "실버라곤",
    "initnum": 26,
    "hp": 30,
    "atk": 34,
    "def": 20,
    "agi": 31
  },
  {
    "name": "골드테라곤",
    "initnum": 26,
    "hp": 24,
    "atk": 31,
    "def": 15,
    "agi": 32
  },
  {
    "name": "테라돈",
    "initnum": 25,
    "hp": 34,
    "atk": 33,
    "def": 17,
    "agi": 32
  },
  {
    "name": "타르쿠",
    "initnum": 20,
    "hp": 21,
    "atk": 22,
    "def": 13,
    "agi": 33
  },
  {
    "name": "푸타카",
    "initnum": 20,
    "hp": 23,
    "atk": 21,
    "def": 12,
    "agi": 33
  },
  {
    "name": "쥬키",
    "initnum": 20,
    "hp": 19,
    "atk": 25,
    "def": 9,
    "agi": 34
  },
  {
    "name": "노르곤",
    "initnum": 26,
    "hp": 28,
    "atk": 37,
    "def": 17,
    "agi": 33
  },
  {
    "name": "지가로스",
    "initnum": 26,
    "hp": 30,
    "atk": 40,
    "def": 22,
    "agi": 23
  },
  {
    "name": "차이혼",
    "initnum": 28,
    "hp": 28,
    "atk": 27,
    "def": 26,
    "agi": 34
  },
  {
    "name": "파라프",
    "initnum": 28,
    "hp": 26,
    "atk": 28,
    "def": 24,
    "agi": 36
  },
  {
    "name": "노리노스",
    "initnum": 29,
    "hp": 28,
    "atk": 32,
    "def": 21,
    "agi": 33
  },
  {
    "name": "푸토라지",
    "initnum": 24,
    "hp": 34,
    "atk": 36,
    "def": 21,
    "agi": 26
  },
  {
    "name": "코리노로스",
    "initnum": 24,
    "hp": 30,
    "atk": 39,
    "def": 17,
    "agi": 29
  },
  {
    "name": "노로로크스",
    "initnum": 23,
    "hp": 29,
    "atk": 34,
    "def": 17,
    "agi": 33
  },
  {
    "name": "실버로크스",
    "initnum": 25,
    "hp": 32,
    "atk": 36,
    "def": 19,
    "agi": 30
  },
  {
    "name": "디로로크스",
    "initnum": 24,
    "hp": 26,
    "atk": 28,
    "def": 21,
    "agi": 28
  },
  {
    "name": "진주토로스",
    "initnum": 23,
    "hp": 30,
    "atk": 22,
    "def": 27,
    "agi": 23
  },
  {
    "name": "쿠로로",
    "initnum": 23,
    "hp": 30,
    "atk": 27,
    "def": 17,
    "agi": 29
  },
  {
    "name": "그린고르",
    "initnum": 25,
    "hp": 35,
    "atk": 31,
    "def": 29,
    "agi": 3
  },
  {
    "name": "보르비스",
    "initnum": 25,
    "hp": 27,
    "atk": 35,
    "def": 19,
    "agi": 31
  },
  {
    "name": "포루나",
    "initnum": 23,
    "hp": 27,
    "atk": 31,
    "def": 13,
    "agi": 30
  },
  {
    "name": "피피아",
    "initnum": 23,
    "hp": 24,
    "atk": 29,
    "def": 14,
    "agi": 29
  },
  {
    "name": "지라크",
    "initnum": 23,
    "hp": 27,
    "atk": 35,
    "def": 21,
    "agi": 19
  },
  {
    "name": "사루나",
    "initnum": 23,
    "hp": 20,
    "atk": 25,
    "def": 10,
    "agi": 35
  },
  {
    "name": "도라비스",
    "initnum": 26,
    "hp": 24,
    "atk": 31,
    "def": 14,
    "agi": 33
  },
  {
    "name": "킹크랩",
    "initnum": 21,
    "hp": 40,
    "atk": 38,
    "def": 34,
    "agi": 4
  },
  {
    "name": "크랩",
    "initnum": 21,
    "hp": 35,
    "atk": 35,
    "def": 26,
    "agi": 21
  },
  {
    "name": "밍코",
    "initnum": 26,
    "hp": 23,
    "atk": 29,
    "def": 13,
    "agi": 26
  },
  {
    "name": "쿠아",
    "initnum": 22,
    "hp": 29,
    "atk": 34,
    "def": 19,
    "agi": 29
  },
  {
    "name": "흑갈푸스",
    "initnum": 22,
    "hp": 28,
    "atk": 38,
    "def": 14,
    "agi": 34
  },
  {
    "name": "키파",
    "initnum": 24,
    "hp": 25,
    "atk": 34,
    "def": 14,
    "agi": 26
  },
  {
    "name": "흑귀",
    "initnum": 24,
    "hp": 30,
    "atk": 42,
    "def": 19,
    "agi": 25
  },
  {
    "name": "카가로스",
    "initnum": 25,
    "hp": 27,
    "atk": 39,
    "def": 15,
    "agi": 27
  },
  {
    "name": "카르노스",
    "initnum": 25,
    "hp": 26,
    "atk": 35,
    "def": 18,
    "agi": 25
  },
  {
    "name": "데블로스",
    "initnum": 21,
    "hp": 21,
    "atk": 30,
    "def": 8,
    "agi": 31
  },
  {
    "name": "다크론",
    "initnum": 24,
    "hp": 32,
    "atk": 41,
    "def": 22,
    "agi": 22
  },
  {
    "name": "쿠오코마",
    "initnum": 24,
    "hp": 33,
    "atk": 39,
    "def": 22,
    "agi": 20
  },
  {
    "name": "우리스타",
    "initnum": 18,
    "hp": 24,
    "atk": 14,
    "def": 18,
    "agi": 28
  },
  {
    "name": "라이칸",
    "initnum": 26,
    "hp": 30,
    "atk": 41,
    "def": 20,
    "agi": 24
  },
  {
    "name": "케로푸스",
    "initnum": 26,
    "hp": 30,
    "atk": 38,
    "def": 23,
    "agi": 18
  },
  {
    "name": "하르가",
    "initnum": 23,
    "hp": 30,
    "atk": 38,
    "def": 16,
    "agi": 31
  },
  {
    "name": "다크무이",
    "initnum": 24,
    "hp": 34,
    "atk": 29,
    "def": 29,
    "agi": 4
  },
  {
    "name": "야크노",
    "initnum": 25,
    "hp": 28,
    "atk": 37,
    "def": 16,
    "agi": 23
  },
  {
    "name": "엘크룬",
    "initnum": 25,
    "hp": 24,
    "atk": 35,
    "def": 12,
    "agi": 27
  },
  {
    "name": "타라티스",
    "initnum": 24,
    "hp": 30,
    "atk": 42,
    "def": 22,
    "agi": 21
  },
  {
    "name": "모사크",
    "initnum": 24,
    "hp": 31,
    "atk": 40,
    "def": 17,
    "agi": 28
  },
  {
    "name": "링코",
    "initnum": 22,
    "hp": 54,
    "atk": 29,
    "def": 13,
    "agi": 33
  },
  {
    "name": "노바티",
    "initnum": 21,
    "hp": 30,
    "atk": 39,
    "def": 20,
    "agi": 27
  },
  {
    "name": "카르카로돈",
    "initnum": 24,
    "hp": 28,
    "atk": 35,
    "def": 18,
    "agi": 33
  },
  {
    "name": "아르카",
    "initnum": 24,
    "hp": 23,
    "atk": 30,
    "def": 12,
    "agi": 32
  },
  {
    "name": "카누",
    "initnum": 22,
    "hp": 21,
    "atk": 25,
    "def": 11,
    "agi": 31
  },
  {
    "name": "블루문",
    "initnum": 25,
    "hp": 30,
    "atk": 40,
    "def": 17,
    "agi": 28
  },
  {
    "name": "아누",
    "initnum": 22,
    "hp": 22,
    "atk": 29,
    "def": 12,
    "agi": 29
  },
  {
    "name": "차크론",
    "initnum": 24,
    "hp": 27,
    "atk": 35,
    "def": 14,
    "agi": 28
  },
  {
    "name": "크루거",
    "initnum": 23,
    "hp": 34,
    "atk": 39,
    "def": 19,
    "agi": 31
  },
  {
    "name": "카라쿠",
    "initnum": 22,
    "hp": 28,
    "atk": 38,
    "def": 15,
    "agi": 32
  },
  {
    "name": "스노밍코",
    "initnum": 26,
    "hp": 26,
    "atk": 23,
    "def": 15,
    "agi": 29
  },
  {
    "name": "파라쿠",
    "initnum": 22,
    "hp": 30,
    "atk": 39,
    "def": 14,
    "agi": 31
  },
  {
    "name": "토라쿠",
    "initnum": 22,
    "hp": 28,
    "atk": 39,
    "def": 14,
    "agi": 32
  },
  {
    "name": "차라쿠",
    "initnum": 22,
    "hp": 28,
    "atk": 39,
    "def": 13,
    "agi": 33
  },
  {
    "name": "타라미우스",
    "initnum": 22,
    "hp": 30,
    "atk": 42,
    "def": 24,
    "agi": 19
  },
  {
    "name": "미라미우스",
    "initnum": 22,
    "hp": 30,
    "atk": 43,
    "def": 23,
    "agi": 19
  },
  {
    "name": "로라미우스",
    "initnum": 22,
    "hp": 30,
    "atk": 40,
    "def": 24,
    "agi": 21
  },
  {
    "name": "크로아치",
    "initnum": 23,
    "hp": 30,
    "atk": 39,
    "def": 23,
    "agi": 23
  },
  {
    "name": "테로노돈",
    "initnum": 22,
    "hp": 27,
    "atk": 31,
    "def": 10,
    "agi": 34
  },
  {
    "name": "골로스",
    "initnum": 28,
    "hp": 31,
    "atk": 41,
    "def": 20,
    "agi": 25
  },
  {
    "name": "카우거",
    "initnum": 23,
    "hp": 29,
    "atk": 39,
    "def": 15,
    "agi": 32
  },
  {
    "name": "샤크론",
    "initnum": 23,
    "hp": 31,
    "atk": 37,
    "def": 15,
    "agi": 33
  },
  {
    "name": "갈푸스",
    "initnum": 24,
    "hp": 27,
    "atk": 40,
    "def": 14,
    "agi": 33
  },
  {
    "name": "파베로스",
    "initnum": 24,
    "hp": 28,
    "atk": 38,
    "def": 15,
    "agi": 33
  }
    ];

let btnName = "";
const result = [];

function preciseRound(num) {
    return Math.round(num * 1e12) / 1e12;
}

function limitDecimalPlaces(number, places) {
    var power = Math.pow(10, places);
    return (Math.floor(number * power) / power).toFixed(places);
}

function setSRank(copiedPet) {
    $(".srank").remove();

    let rank = 0;
    const sumStats = copiedPet.hp + copiedPet.atk + copiedPet.def + copiedPet.agi;
    if (copiedPet.rank > 0) {
        rank = copiedPet.rank;
    } else if (sumStats >= 110) rank = 435;
    else if (sumStats >= 105) rank = 455;
    else if (sumStats >= 100) rank = 475;
    else if (sumStats >= 95) rank = 495;
    else if (sumStats >= 90) rank = 515;
    else if (sumStats >= 85) rank = 535;
    else if (sumStats >= 80) rank = 555;
    else rank = 575;

    // base
    copiedPet.hp  += 2;
    copiedPet.atk += 2;
    copiedPet.def += 2;
    copiedPet.agi += 2;

    // bonus
    copiedPet.hp  += 2.5;
    copiedPet.atk += 2.5;
    copiedPet.def += 2.5;
    copiedPet.agi += 2.5;

    // 계산
    const hp  = preciseRound(copiedPet.initnum * copiedPet.hp / 100);
    const atk = preciseRound(copiedPet.initnum * copiedPet.atk / 100);
    const def = preciseRound(copiedPet.initnum * copiedPet.def / 100);
    const agi = preciseRound(copiedPet.initnum * copiedPet.agi / 100);

    const resultHp  = preciseRound((hp*4) + atk + def + agi);
    const resultAtk = preciseRound((hp*0.1) + atk + (def*0.1) + (agi*0.05));
    const resultDef = preciseRound((hp*0.1) + (atk*0.1) + def + (agi*0.05));
    const resultAgi = agi;

    const upHp  = preciseRound(copiedPet.hp  * rank / 10000);
    const upAtk = preciseRound(copiedPet.atk * rank / 10000);
    const upDef = preciseRound(copiedPet.def * rank / 10000);
    const upAgi = preciseRound(copiedPet.agi * rank / 10000);

    const resultUpHp  = preciseRound((upHp*4) + upAtk + upDef + upAgi);
    const resultUpAtk = preciseRound((upHp*0.1) + upAtk + (upDef*0.1) + (upAgi*0.05));
    const resultUpDef = preciseRound((upHp*0.1) + (upAtk*0.1) + upDef + (upAgi*0.05));
    const resultUpAgi = upAgi;

    const resultSum = preciseRound(resultUpAtk + resultUpDef + resultUpAgi);

    $('#myPet tbody').append(
        '<tr class="srank">' + 
        '<td>S 초기치</td>' + 
        '<td>' + limitDecimalPlaces(resultHp, 2) + '</td>' + 
        '<td>' + limitDecimalPlaces(resultAtk, 2) + '</td>' + 
        '<td>' + limitDecimalPlaces(resultDef, 2) + '</td>' + 
        '<td>' + limitDecimalPlaces(resultAgi, 2) + '</td>' + 
        '<td></td>' + 
        '</tr>' + 
        '<tr class="srank">' + 
        '<td>S 성장률</td>' + 
        '<td>' + resultUpHp.toFixed(2) + '</td>' + 
        '<td>' + resultUpAtk.toFixed(2) + '</td>' + 
        '<td>' + resultUpDef.toFixed(2) + '</td>' + 
        '<td>' + resultUpAgi.toFixed(2) + '</td>' + 
        '<td>' + resultSum.toFixed(2) + '</td>' + 
        '</tr>'
    );

    if (btnName == "search") {
        $("#hp").val(parseInt(resultHp,10));
        $("#atk").val(parseInt(resultAtk,10));
        $("#def").val(parseInt(resultDef,10));
        $("#agi").val(parseInt(resultAgi,10));
    }
}

function setBase(foundPet) {
    $('#result tbody').empty();
    result.length = 0;

    const baseCnt = 5;
    const baseInit = -2;
    const base = {"hp":-2,"atk":-2,"def":-2,"agi":-2};

    for (let i=0;i<baseCnt;i++){
        for (let ii=0;ii<baseCnt;ii++){
            for (let iii=0;iii<baseCnt;iii++){
                for (let iiii=0;iiii<baseCnt;iiii++){
                    setBonus(foundPet, base);
                    base.hp++;
                    if(base.hp==3) base.hp=baseInit;
                }
                base.atk++;
                if(base.atk==3) base.atk=baseInit;
            }
            base.def++;
            if(base.def==3) base.def=baseInit;
        }
        base.agi++;
        if(base.agi==3) base.agi=baseInit;
    }
    print();
}

function setBonus(foundPet, base){
    const bonus = {"hp":0,"atk":0,"def":0,"agi":0};
    for (let i=0;i<11;i++){
        for (let ii=0;ii<11;ii++){
            for (let iii=0;iii<11;iii++){
                for (let iiii=0;iiii<11;iiii++){
                    if(bonus.hp + bonus.atk + bonus.def + bonus.agi == 10){
                        addData(foundPet, base, bonus);
                    }
                    bonus.hp++;
                    if(bonus.hp==11) bonus.hp=0;
                }
                bonus.atk++;
                if(bonus.atk==11) bonus.atk=0;
            }
            bonus.def++;
            if(bonus.def==11) bonus.def=0;
        }
        bonus.agi++;
        if(bonus.agi==11) bonus.agi=0;
    }
}

function addData(foundPet, base, bonus){
    const hp  = preciseRound(foundPet.initnum * (foundPet.hp  + base.hp  + bonus.hp) / 100);
    const atk = preciseRound(foundPet.initnum * (foundPet.atk + base.atk + bonus.atk) / 100);
    const def = preciseRound(foundPet.initnum * (foundPet.def + base.def + bonus.def) / 100);
    const agi = preciseRound(foundPet.initnum * (foundPet.agi + base.agi + bonus.agi) / 100);

    const stat = {"rank":0,"hp":0,"atk":0,"def":0,"agi":0,"baseHp":0,"baseAtk":0,"baseDef":0,"baseAgi":0,"bonusHp":0,"bonusAtk":0,"bonusDef":0,"bonusAgi":0,"poison":0};
    stat.hp  = preciseRound((hp*4) + atk + def + agi);
    stat.atk = preciseRound((hp*0.1)+atk+(def*0.1)+(agi*0.05));
    stat.def = preciseRound((hp*0.1)+(atk*0.1)+def+(agi*0.05));
    stat.agi = agi;

    stat.poison = parseInt(foundPet.initnum*(foundPet.hp+base.hp+bonus.hp),10)
                + parseInt(foundPet.initnum*(foundPet.atk+base.atk+bonus.atk),10)
                + parseInt(foundPet.initnum*(foundPet.def+base.def+bonus.def),10)
                + parseInt(foundPet.initnum*(foundPet.agi+base.agi+bonus.agi),10);
    stat.poison = preciseRound((stat.poison/100-20)/4);
    if(stat.poison<1) stat.poison=1;

    if(btnName=="calculate"){
        if(Math.floor(stat.hp)  === parseInt($("#hp").val(),10) &&
           Math.floor(stat.atk) === parseInt($("#atk").val(),10) &&
           Math.floor(stat.def) === parseInt($("#def").val(),10) &&
           Math.floor(stat.agi) === parseInt($("#agi").val(),10)){
            stat.rank = base.hp+base.atk+base.def+base.agi;
            stat.baseHp=base.hp; stat.baseAtk=base.atk; stat.baseDef=base.def; stat.baseAgi=base.agi;
            stat.bonusHp=bonus.hp; stat.bonusAtk=bonus.atk; stat.bonusDef=bonus.def; stat.bonusAgi=bonus.agi;
            result.push(stat);
        }
    } else if(btnName=="search"){
        if(base.hp+base.atk+base.def+base.agi==8){
            stat.rank = base.hp+base.atk+base.def+base.agi;
            stat.baseHp=base.hp; stat.baseAtk=base.atk; stat.baseDef=base.def; stat.baseAgi=base.agi;
            stat.bonusHp=bonus.hp; stat.bonusAtk=bonus.atk; stat.bonusDef=bonus.def; stat.bonusAgi=bonus.agi;
            result.push(stat);
        }
    }
}

function print(){
    result.sort((a,b)=>{
        if(b.rank !== a.rank) return b.rank-a.rank;
        if(b.hp !== a.hp) return b.hp-a.hp;
        if(b.atk !== a.atk) return b.atk-a.atk;
        if(b.def !== a.def) return b.def-a.def;
        return b.agi-a.agi;
    });

    const resultContainer = document.getElementById("calculationResult");
    resultContainer.innerHTML = ""; // Clear previous results

    let html = '<h3>계산 결과</h3>';

    if(btnName=="search"){
        const name=$("#name").val();
        html += `<h4>[${name}]의 8등급 분포</h4>`;
        
        const countMap = {};
        const totalCount=result.length;
        result.forEach(obj=>{
            const key = parseInt(obj.hp,10)+', '+parseInt(obj.atk,10)+', '+parseInt(obj.def,10)+', '+parseInt(obj.agi,10);
            countMap[key]=(countMap[key]||0)+1;
        });

        html += '<div class="table-responsive"><table class="table"><thead><tr><th>스탯 (내구,공격,방어,순발)</th><th>건수</th><th>확률</th></tr></thead><tbody>';
        for(const key in countMap){
            const count = countMap[key];
            const percentage=(count/totalCount*100).toFixed(2);
            html+= `<tr><td>${key}</td><td>${count}건</td><td>${percentage}%</td></tr>`;
        }
        html += '</tbody></table></div>';

    } else if(btnName=="calculate"){
        const rankCounts={};
        for(let i=0;i<result.length;i++){
            const rank=result[i].rank;
            rankCounts[rank]=(rankCounts[rank]||0)+1;
        }
        const ranks=Object.keys(rankCounts).sort((a,b)=>b-a);
        const name=$("#name").val();
        const hp=$("#hp").val(); const atk=$("#atk").val(); const def=$("#def").val(); const agi=$("#agi").val();
        html += `<h4>[${name}][${hp},${atk},${def},${agi}]</h4>`;
        
        const totalCount=Object.values(rankCounts).reduce((a,b)=>a+b,0);

        html += '<div class="table-responsive"><table class="table"><thead><tr><th>등급</th><th>건수</th><th>확률</th></tr></thead><tbody>';
        for(const rank of ranks){
            const count=rankCounts[rank];
            const percentage=(count/totalCount*100).toFixed(2);
            html+= `<tr><td>${rank} 등급</td><td>${count} 건</td><td>${percentage}%</td></tr>`;
        }
        html += '</tbody></table></div>';
    }

    resultContainer.innerHTML = html;
}

$(document).ready(function(){
    $("#name").on("keydown",function(e){ if(e.key==='Enter') $("#search").click(); });

    $("#search").on("click",function(){
        const foundPet = pet.find(p=>p.name==$("#name").val());
        if(!foundPet){ alert("펫 정보를 찾을 수 없습니다."); return; }
        btnName="search";
        const copiedPet=JSON.parse(JSON.stringify(foundPet));
        setSRank(copiedPet);
        setBase(foundPet);
    });

    $("#calculate").on("click",function(){
        const foundPet = pet.find(p=>p.name==$("#name").val());
        if(!foundPet){ alert("펫 정보를 찾을 수 없습니다."); return; }
        btnName="calculate";
        const copiedPet=JSON.parse(JSON.stringify(foundPet));
        setSRank(copiedPet);
        setBase(foundPet);
    });
    });

        // 결과 영역에 내용이 추가될 때만 보이도록 설정
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.addedNodes.length) {
                    const resultDiv = $('#calculationResult');
                    if(resultDiv.text().trim().length > 0) {
                        resultDiv.show();
                    }
                }
            });
        });
        observer.observe($('#calculationResult')[0], { childList: true, subtree: true });
    </script>
</body>
</html>
